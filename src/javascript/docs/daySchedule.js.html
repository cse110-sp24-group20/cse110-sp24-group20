<!DOCTYPE html><html lang="en" style="font-size:16px"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Source: daySchedule.js</title><!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]--><script src="scripts/third-party/hljs.js" defer="defer"></script><script src="scripts/third-party/hljs-line-num.js" defer="defer"></script><script src="scripts/third-party/popper.js" defer="defer"></script><script src="scripts/third-party/tippy.js" defer="defer"></script><script src="scripts/third-party/tocbot.min.js"></script><script>var baseURL="/",locationPathname="";baseURL=(locationPathname=document.location.pathname).substr(0,locationPathname.lastIndexOf("/")+1)</script><link rel="stylesheet" href="styles/clean-jsdoc-theme.min.css"><svg aria-hidden="true" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" style="display:none"><defs><symbol id="copy-icon" viewbox="0 0 488.3 488.3"><g><path d="M314.25,85.4h-227c-21.3,0-38.6,17.3-38.6,38.6v325.7c0,21.3,17.3,38.6,38.6,38.6h227c21.3,0,38.6-17.3,38.6-38.6V124    C352.75,102.7,335.45,85.4,314.25,85.4z M325.75,449.6c0,6.4-5.2,11.6-11.6,11.6h-227c-6.4,0-11.6-5.2-11.6-11.6V124    c0-6.4,5.2-11.6,11.6-11.6h227c6.4,0,11.6,5.2,11.6,11.6V449.6z"/><path d="M401.05,0h-227c-21.3,0-38.6,17.3-38.6,38.6c0,7.5,6,13.5,13.5,13.5s13.5-6,13.5-13.5c0-6.4,5.2-11.6,11.6-11.6h227    c6.4,0,11.6,5.2,11.6,11.6v325.7c0,6.4-5.2,11.6-11.6,11.6c-7.5,0-13.5,6-13.5,13.5s6,13.5,13.5,13.5c21.3,0,38.6-17.3,38.6-38.6    V38.6C439.65,17.3,422.35,0,401.05,0z"/></g></symbol><symbol id="search-icon" viewBox="0 0 512 512"><g><g><path d="M225.474,0C101.151,0,0,101.151,0,225.474c0,124.33,101.151,225.474,225.474,225.474    c124.33,0,225.474-101.144,225.474-225.474C450.948,101.151,349.804,0,225.474,0z M225.474,409.323    c-101.373,0-183.848-82.475-183.848-183.848S124.101,41.626,225.474,41.626s183.848,82.475,183.848,183.848    S326.847,409.323,225.474,409.323z"/></g></g><g><g><path d="M505.902,476.472L386.574,357.144c-8.131-8.131-21.299-8.131-29.43,0c-8.131,8.124-8.131,21.306,0,29.43l119.328,119.328    c4.065,4.065,9.387,6.098,14.715,6.098c5.321,0,10.649-2.033,14.715-6.098C514.033,497.778,514.033,484.596,505.902,476.472z"/></g></g></symbol><symbol id="font-size-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11.246 15H4.754l-2 5H.6L7 4h2l6.4 16h-2.154l-2-5zm-.8-2L8 6.885 5.554 13h4.892zM21 12.535V12h2v8h-2v-.535a4 4 0 1 1 0-6.93zM19 18a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></symbol><symbol id="add-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V5h2v6h6v2h-6v6h-2v-6H5v-2z"/></symbol><symbol id="minus-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M5 11h14v2H5z"/></symbol><symbol id="dark-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M10 7a7 7 0 0 0 12 4.9v.1c0 5.523-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2h.1A6.979 6.979 0 0 0 10 7zm-6 5a8 8 0 0 0 15.062 3.762A9 9 0 0 1 8.238 4.938 7.999 7.999 0 0 0 4 12z"/></symbol><symbol id="light-theme-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 18a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-2a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM11 1h2v3h-2V1zm0 19h2v3h-2v-3zM3.515 4.929l1.414-1.414L7.05 5.636 5.636 7.05 3.515 4.93zM16.95 18.364l1.414-1.414 2.121 2.121-1.414 1.414-2.121-2.121zm2.121-14.85l1.414 1.415-2.121 2.121-1.414-1.414 2.121-2.121zM5.636 16.95l1.414 1.414-2.121 2.121-1.414-1.414 2.121-2.121zM23 11v2h-3v-2h3zM4 11v2H1v-2h3z"/></symbol><symbol id="reset-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M18.537 19.567A9.961 9.961 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 2.136-.67 4.116-1.81 5.74L17 12h3a8 8 0 1 0-2.46 5.772l.997 1.795z"/></symbol><symbol id="down-icon" viewBox="0 0 16 16"><path fill-rule="evenodd" clip-rule="evenodd" d="M12.7803 6.21967C13.0732 6.51256 13.0732 6.98744 12.7803 7.28033L8.53033 11.5303C8.23744 11.8232 7.76256 11.8232 7.46967 11.5303L3.21967 7.28033C2.92678 6.98744 2.92678 6.51256 3.21967 6.21967C3.51256 5.92678 3.98744 5.92678 4.28033 6.21967L8 9.93934L11.7197 6.21967C12.0126 5.92678 12.4874 5.92678 12.7803 6.21967Z"></path></symbol><symbol id="codepen-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M16.5 13.202L13 15.535v3.596L19.197 15 16.5 13.202zM14.697 12L12 10.202 9.303 12 12 13.798 14.697 12zM20 10.869L18.303 12 20 13.131V10.87zM19.197 9L13 4.869v3.596l3.5 2.333L19.197 9zM7.5 10.798L11 8.465V4.869L4.803 9 7.5 10.798zM4.803 15L11 19.131v-3.596l-3.5-2.333L4.803 15zM4 13.131L5.697 12 4 10.869v2.262zM2 9a1 1 0 0 1 .445-.832l9-6a1 1 0 0 1 1.11 0l9 6A1 1 0 0 1 22 9v6a1 1 0 0 1-.445.832l-9 6a1 1 0 0 1-1.11 0l-9-6A1 1 0 0 1 2 15V9z"/></symbol><symbol id="close-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M12 10.586l4.95-4.95 1.414 1.414-4.95 4.95 4.95 4.95-1.414 1.414-4.95-4.95-4.95 4.95-1.414-1.414 4.95-4.95-4.95-4.95L7.05 5.636z"/></symbol><symbol id="menu-icon" viewBox="0 0 24 24"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 4h18v2H3V4zm0 7h18v2H3v-2zm0 7h18v2H3v-2z"/></symbol></defs></svg></head><body data-theme="dark"><div class="sidebar-container"><div class="sidebar" id="sidebar"><div class="sidebar-items-container"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-daySchedule.html">daySchedule</a></div><div class="sidebar-section-children"><a href="module-index.html">index</a></div><div class="sidebar-section-children"><a href="module-monthlyCalendar.html">monthlyCalendar</a></div><div class="sidebar-section-children"><a href="module-projectTracker.html">projectTracker</a></div><div class="sidebar-section-children"><a href="module-Reflect.html">Reflect</a></div><div class="sidebar-section-children"><a href="module-unit-test.html">unit-test</a></div></div></div></div></div><div class="navbar-container" id="VuAckcnZhf"><nav class="navbar"><div class="navbar-left-items"></div><div class="navbar-right-items"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div><nav></nav></nav></div><div class="toc-container"><div class="toc-content"><span class="bold">On this page</span><div id="eed4d2a0bfd64539bb9df78095dec881"></div></div></div><div class="body-wrapper"><div class="main-content"><div class="main-wrapper"><section id="source-page" class="source-page"><header><h1 id="title" class="has-anchor">daySchedule.js</h1></header><article><pre class="prettyprint source lang-js"><code>/**
    @module daySchedule
*/

// Selecting DOM elements
var addBtn = document.querySelector(".add_button"); // button to add tasks
var modal = document.getElementsByClassName("modal")[0]; //gets the modal display
var closeBtn = document.getElementsByClassName("close")[0]; //button to close the modal display
var submitBtn = document.querySelector(".submit"); //button to submit the form
var todoList = document.querySelector(".todo-list"); //gets the TODO list
var eventForm = document.getElementById("eventForm"); //gets the form

// Variable to track if we are editing an existing item
var editingItem = null;

/**
 * Show modal on add button click
 * This event listener is triggered when the add button is clicked.
 * It displays the modal and resets the form for a new entry.
 */
addBtn.addEventListener("click", () => { //event listener for the add button
    modal.style.display = "block"; //modal display as a block
    eventForm.reset(); // Reset the form
    document.getElementById("color").value = "#ADD8E6"; // sets default color
    editingItem = null; // reset the editing item

    //set default date on the modal
    const now = new Date();
    const year = now.getFullYear();
    const month = String(now.getMonth() + 1).padStart(2, '0');
    const day = String(now.getDate()).padStart(2, '0');
    const hours = String(now.getHours()).padStart(2, '0');
    const minutes = String(now.getMinutes()).padStart(2, '0');
    
    const formattedDateTime = `${year}-${month}-${day}T${hours}:${minutes}`;
    document.getElementById("dateTime").value = formattedDateTime;
});

/**
 * Hide modal on close button click
 * This event listener is triggered when the close button on the modal is clicked.
 * It hides the modal and resets the editing item.
 */
closeBtn.addEventListener("click", () => { //listens for when the close button is clicked
    modal.style.display = "none"; //changes the display to none
    editingItem = null; //reset the editing item
});

/**
 * Format the date and time for display
 * Converts the date and time string to a more readable format.
 * @param {string} dateTime - The date and time string to format
 * @returns {string} - The formatted date and time string
 */
function formatDateTimeForDisplay(dateTime) {
    let options = { year: 'numeric', month: 'long', day: 'numeric', hour: '2-digit', minute: '2-digit' }; //specifies the format
    return new Date(dateTime).toLocaleString('en-US', options); // converts the dateTime to a Date object and formats based on locale 'en-US'
}

/**
 * Format the date and time for input
 * Converts the date and time string to a format suitable for input fields.
 * @param {string} dateTime - The date and time string to format
 * @returns {string} - The formatted date and time string in input format
 */
function formatDateTimeForInput(dateTime) {
    var date = new Date(dateTime); //creates new Date object
    var year = date.getFullYear(); //gets the full current year
    var month = String(date.getMonth() + 1).padStart(2, '0'); // gets the current month
    var day = String(date.getDate()).padStart(2, '0'); // gets the current date
    var hours = String(date.getHours()).padStart(2, '0'); // gets the current time in hours
    var minutes = String(date.getMinutes()).padStart(2, '0'); // gets the current time in minutes
    return `${year}-${month}-${day}T${hours}:${minutes}`; // format for DateTime
}

/**
 * Function to create a delete button
 * @param {HTMLElement} li - list item element to append the delete button to
 * @returns {HTMLButtonElement} - created delete button
 */
function createDeleteButton(li) {
    let deleteBtn = document.createElement("button"); //creates button element
    deleteBtn.classList.add("delete_button"); //adds the "remove_button" class to the element
    deleteBtn.innerHTML = "delete"; //button will say "delete"
    deleteBtn.addEventListener("click", () => { //listens for if the button is clicked
        todoList.removeChild(li); // then remove the child
        saveTasks(); // save the tasks to update the local storage
    });
    return deleteBtn; // returns the created delete button
}

/**
 * Function to create a checkbox
 * @param {HTMLElement} li - list item element to append the checkbox to
 * @returns {HTMLButtonElement} - created checkbox button
 */
function createCheckbox(li) {
    let checkbox = document.createElement("button"); //creates button element
    checkbox.classList.add("checkbox"); //adds the "checkbox" class to the element
    checkbox.innerHTML = "✔"; //button will have the checkmark symbol
    checkbox.addEventListener("click", () => { //listens for if the button is clicked
        li.classList.toggle("checked"); // then toggles the "checked" class 
        saveTasks(); // save the tasks to update the local storage
    });
    return checkbox; // returns the created checkbox button
}

/**
 * Function to create a todo item
 * @param {string} eventName - name of the event
 * @param {string} description - description of the event
 * @param {string} color - color of the event
 * @param {string} dateTime - date and time of the event
 * @param {boolean} checked - whether the task is checked
 * @returns {HTMLElement} - the created todo item
 */
function createTodoElement(eventName, description, color, dateTime, checked = false) {
    let li = document.createElement("li"); //creates the list item
    li.classList.add("todo-item"); // adds the class "todo-item" to the list item
    li.setAttribute("date-datetime", dateTime);
    if (checked) { //checks if the task is checked
        li.classList.add("checked"); // then adds the class "checked" to the list item
    }

    let deleteBtn = createDeleteButton(li); //creates delete button for the item

    // Add edit button
    var editBtn = document.createElement("button"); //creates edit button
    editBtn.classList.add("edit_button"); // adds class "edit_button" to the element
    editBtn.innerHTML = "edit"; // sets text to be "edit"
    editBtn.addEventListener("click", () => { // if clicked
        editTodoItem(li); // edit the item
    });

    // creates Title as a span
    let span = document.createElement("span"); //creates new span element
    span.style.backgroundColor = color; //sets the background color of span 
    span.textContent = eventName; // sets text content to be the eventName
    span.classList.add("title"); // adds the class "title" to the span

    // creates a titleContainer for the title and delete button
    let titleContainer = document.createElement("div"); // creates a new div element
    titleContainer.appendChild(span); // Appends the span
    titleContainer.appendChild(editBtn); // Appends the edit button
    titleContainer.appendChild(deleteBtn); // Appends the delete button
    titleContainer.classList.add("title-container"); // Adds the class 'title-container' to the div element

    let div = document.createElement("div"); // Creates a new div element to contain the task details
    div.classList.add("task"); // Adds the class 'task' to the div element

    // creates input element for the description
    let input = document.createElement("input"); // Creates a new input element
    input.type = "text"; // Sets the input type to 'text'
    input.value = description; // Sets the input value to the description of the event
    input.classList.add("width"); // Adds the class 'width' to the input element
    input.disabled = true; // Disables the input element to make it read-only

    // creates div element for the date and time
    let dateTimeDiv = document.createElement("div"); // Creates a new div element
    dateTimeDiv.classList.add("datetime"); // Adds the class 'datetime' to the div
    dateTimeDiv.textContent = dateTime; // Sets the text content of the div element to the date and time

    let checkbox = createCheckbox(li); // Creates a checkbox for the list item

    div.appendChild(input); // Appends the input (description) to the task div
    div.appendChild(dateTimeDiv); // Appends the date and time div to the task div
    div.appendChild(checkbox); // Appends the checkbox to the task div

    li.appendChild(titleContainer); // Appends the title container to the list item
    li.appendChild(div); // Appends the task div to the list item

    return li; // Returns the created list item element
}

/**
 * Create or update a todo item
 * Handles the creation of a new todo item or updating an existing item.
 * @param {Event} event - The event object
 */
function createTodoItem(event) {
    event.preventDefault(); // prevents default behavior

    // Get form values
    let eventName = document.getElementById("eventName").value; // name of event
    let description = document.getElementById("description").value; // description of event
    let color = document.getElementById("color").value; // color of event
    let dateTime = document.getElementById("dateTime").value; // dateTime of event

    //Check if the input is valid
    if (eventName == "") {
        event.preventDefault();
        alert("Event Name cannot be empty!") //ensures that the eventName is required
        return; //Terminate the function execution
    }

    // makes dateTime optional
    var formattedDateTime = dateTime ? formatDateTimeForDisplay(dateTime) : "";

    if (editingItem) {
        // Update the existing item
        editingItem.querySelector("span.title").textContent = eventName; //updates the title
        editingItem.querySelector("span.title").style.backgroundColor = color; //updates the background color
        editingItem.querySelector("input.width").value = description; // updates the description
        editingItem.querySelector(".datetime").textContent = formattedDateTime; // updates the dateTime
        editingItem.setAttribute("data-datetime", dateTime); // sets data-datetime of the exisiting item
        editingItem = null; // Reset editing item
    } else {
        let todoItem = createTodoElement(eventName, description, color, dateTime); // creates a new todo element
        todoList.appendChild(todoItem); //append todo item to the list
    }
    // Save tasks to local storage
    saveTasks();

    sortTasks(); //sorts tasks

    // Hide modal and reset form
    modal.style.display = "none"; //hides modal
    eventForm.reset(); //resets form inputs
}

/**
 * Edit a todo item
 * Populates the modal with the current values of the selected todo item for editing.
 * @param {HTMLLIElement} li - The list item element to edit
 */
function editTodoItem(li) {
    // Get current values
    var eventName = li.querySelector("span.title").textContent;
    var description = li.querySelector("input.width").value;
    var color = li.querySelector("span.title").style.backgroundColor;
    var dateTime = li.querySelector(".datetime").textContent;
    var formattedDateTime = dateTime ? formatDateTimeForInput(dateTime) : "";

    // Populate modal with current values
    document.getElementById("eventName").value = eventName;
    document.getElementById("description").value = description;
    document.getElementById("color").value = rgbToHex(color);
    document.getElementById("dateTime").value = formattedDateTime;

    // Show modal
    modal.style.display = "block";

    // Set editing item
    editingItem = li;
}

/**
 * Helper function to convert rgb color to hex
 * Converts an RGB color value to a hex color string.
 * @param {string} rgb - The rgb color string
 * @returns {string} - The hex color string
 */
function rgbToHex(rgb) {
    var result = rgb.match(/\d+/g); //matches the numbers in the RGB string
    return "#" + ((1 &lt;&lt; 24) + (parseInt(result[0]) &lt;&lt; 16) + (parseInt(result[1]) &lt;&lt; 8) + parseInt(result[2])).toString(16).slice(1).toUpperCase(); //converts to hex
}

/**
 * Save tasks to local storage
 * Stores the current list of tasks in local storage.
 */
function saveTasks() {
    let tasks = [];
    document.querySelectorAll(".todo-item").forEach(item => {
        tasks.push({ //retrieves all this data of each todo item
            eventName: item.querySelector("span.title").textContent,
            description: item.querySelector("input.width").value,
            color: item.querySelector("span.title").style.backgroundColor,
            dateTime: item.querySelector(".datetime").textContent,
            dataDateTime: item.getAttribute("data-datetime"),
            checked: item.classList.contains("checked") 
        });
    });
    localStorage.setItem("tasks", JSON.stringify(tasks)); //saves tasks to localStorage
}

/**
 * Load tasks from local storage
 * Retrieves the list of tasks from local storage and populates the todo list.
 */
function loadTasks() {
    let tasks = JSON.parse(localStorage.getItem("tasks")) || []; // gets tasks from localStorage

    tasks.forEach(task => {
        let todoItem = createTodoElement(task.eventName, task.description, task.color, task.dateTime, task.checked); // creates TODO element
        todoList.appendChild(todoItem); //populates the todo list
    });
    sortTasks(); //sort tasks
}
/**
 * Sort tasks by date and time
 * Sorts the tasks in the todo list by their date and time in ascending order.
 */
function sortTasks() {
    var items = Array.from(todoList.children); // creates an array of the items in the todo list
    items.sort((a, b) => new Date(a.getAttribute("data-datetime")) - new Date(b.getAttribute("data-datetime"))); // sorts based on time
    items.forEach(item => todoList.appendChild(item)); //append based on new order
}

// Add event listener to the submit button
submitBtn.addEventListener("click", createTodoItem);

// Load tasks when the page loads
window.addEventListener("load", loadTasks);</code></pre></article></section></div></div></div><div class="search-container" id="PkfLWpAbet" style="display:none"><div class="wrapper" id="iCxFxjkHbP"><button class="icon-button search-close-button" id="VjLlGakifb" aria-label="close search"><svg><use xlink:href="#close-icon"></use></svg></button><div class="search-box-c"><svg><use xlink:href="#search-icon"></use></svg> <input type="text" id="vpcKVYIppa" class="search-input" placeholder="Search..." autofocus></div><div class="search-result-c" id="fWwVHRuDuN"><span class="search-result-c-text">Type anything to view search result</span></div></div></div><div class="mobile-menu-icon-container"><button class="icon-button" id="mobile-menu" data-isopen="false" aria-label="menu"><svg><use xlink:href="#menu-icon"></use></svg></button></div><div id="mobile-sidebar" class="mobile-sidebar-container"><div class="mobile-sidebar-wrapper"><div class="mobile-nav-links"></div><div class="mobile-sidebar-items-c"><div class="sidebar-section-title with-arrow" data-isopen="false" id="sidebar-modules"><div>Modules</div><svg><use xlink:href="#down-icon"></use></svg></div><div class="sidebar-section-children-container"><div class="sidebar-section-children"><a href="module-daySchedule.html">daySchedule</a></div><div class="sidebar-section-children"><a href="module-index.html">index</a></div><div class="sidebar-section-children"><a href="module-monthlyCalendar.html">monthlyCalendar</a></div><div class="sidebar-section-children"><a href="module-projectTracker.html">projectTracker</a></div><div class="sidebar-section-children"><a href="module-Reflect.html">Reflect</a></div><div class="sidebar-section-children"><a href="module-unit-test.html">unit-test</a></div></div></div><div class="mobile-navbar-actions"><div class="navbar-right-item"><button class="icon-button search-button" aria-label="open-search"><svg><use xlink:href="#search-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button theme-toggle" aria-label="toggle-theme"><svg><use class="theme-svg-use" xlink:href="#light-theme-icon"></use></svg></button></div><div class="navbar-right-item"><button class="icon-button font-size" aria-label="change-font-size"><svg><use xlink:href="#font-size-icon"></use></svg></button></div></div></div></div><script type="text/javascript" src="scripts/core.min.js"></script><script src="scripts/search.min.js" defer="defer"></script><script src="scripts/third-party/fuse.js" defer="defer"></script><script type="text/javascript">var tocbotInstance=tocbot.init({tocSelector:"#eed4d2a0bfd64539bb9df78095dec881",contentSelector:".main-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0,scrollContainer:".main-content",headingsOffset:130,onClick:bringLinkToView})</script></body></html>